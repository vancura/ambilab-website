---
import Head from './Head.astro';
import Header from './Header.astro';
import Footer from './Footer.astro';
import GoToTop from '@components/svelte/GoToTop.svelte';
import CookieBanner from '@components/svelte/CookieBanner.svelte';
import type { Locale } from '@type/locale';
import type { ISEOMetadata } from '@type/seo';
import '@/styles/global.css';

export interface Props extends ISEOMetadata {
  locale: Locale;
}

const { locale, ...seoProps } = Astro.props;
const currentPath = Astro.url.pathname;
---

<!doctype html>
<html lang={locale} class="scroll-smooth">
  <Head {...seoProps} locale={locale} />

  <body class="bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-100">
    <Header locale={locale} currentPath={currentPath} />

    <main class="min-h-screen">
      <slot />
    </main>

    <Footer locale={locale} />

    <GoToTop client:idle />
    <CookieBanner client:idle locale={locale} />

    <script>
      import { initDarkMode } from '@utils/dom';
      import '@lib/typewriter-init';
      initDarkMode();
    </script>
  </body>
</html>

