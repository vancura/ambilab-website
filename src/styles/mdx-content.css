@reference '../styles/global.css';

.mdx-content {
    --color-table-header-bg: #f9fafb; /* gray.50 */
    --color-table-header-border: #d1d5db; /* gray.300 */
    --color-table-border: #e5e7eb; /* gray.200 */

    & a:not(.anchor) {
        @apply relative font-medium text-link underline underline-offset-4 [&:hover,&:focus]:text-link-hover dark:text-link-dark dark:[&:hover,&:focus]:text-link-hover-dark;

        &[href^='http']::after,
        &[href^='https']::after {
            @apply ml-1 inline-block text-xs content-['â†—'];
        }
    }

    & h1,
    & h2,
    & h3,
    & h4 {
        @apply relative scroll-mt-20 font-bold;

        & .anchor {
            @apply absolute -left-6 no-underline opacity-0;
        }

        &:hover .anchor {
            @apply opacity-100;
        }
    }

    & h1 {
        @apply mb-4 mt-8 text-4xl;
    }

    & h2 {
        @apply mb-4 mt-12 border-t border-border-default pt-8 text-3xl dark:border-border-default-dark;
    }

    & h3 {
        @apply mb-3 mt-8 text-2xl font-semibold;
    }

    & h4 {
        @apply mb-2 mt-6 text-xl font-semibold;
    }

    & p {
        @apply mb-4 leading-relaxed;
    }

    & ul,
    & ol {
        @apply mb-4 pl-6;
    }

    & ul li {
        @apply mb-2 list-disc;
    }

    & ol li {
        @apply mb-2 list-decimal;
    }

    & ul ul,
    & ol ul {
        @apply mb-2 mt-2;
    }

    & ul ol,
    & ol ol {
        @apply mb-2 mt-2;
    }

    & p code,
    & li code,
    & td code {
        @apply rounded bg-surface-code px-1.5 py-0.5 font-mono text-sm text-text-primary dark:bg-surface-code-dark dark:text-text-primary-dark;
    }

    & pre {
        @apply my-6 overflow-x-auto rounded-lg;
    }

    & img {
        @apply my-4 h-auto max-w-full rounded-lg;
    }

    & figure {
        @apply my-6;

        & figcaption {
            @apply mt-2 text-center text-sm text-text-muted dark:text-text-muted-dark;
        }
    }

    & blockquote {
        @apply my-4 border-l-4 border-info-border pl-4 italic text-text-secondary dark:text-text-secondary-dark;

        & p {
            @apply mb-2;
        }
    }

    & table {
        @apply my-4 w-full border-collapse;

        & th {
            border-bottom-width: 2px;
            border-bottom-style: solid;
            border-color: var(--color-table-header-border);
            background-color: var(--color-table-header-bg);
            padding: 0.5rem;
            text-align: left;
            font-weight: 600;
        }

        & td {
            border-bottom-width: 1px;
            border-bottom-style: solid;
            border-color: var(--color-table-border);
            padding: 0.5rem;
        }

        & tr:last-child td {
            border-bottom-width: 0;
        }
    }

    & hr {
        @apply my-8 border-t border-border-default dark:border-border-default-dark;
    }

    & strong {
        @apply font-bold text-text-primary dark:text-text-primary-dark;
    }

    & em {
        @apply italic;
    }

    & abbr {
        @apply cursor-help border-b border-dotted border-border-subtle dark:border-border-subtle-dark;
    }

    & mark {
        @apply rounded bg-warning-highlight px-1 dark:bg-warning-highlight-dark;
    }

    & kbd {
        @apply rounded border border-border-medium bg-surface-code px-2 py-1 font-mono text-sm shadow-sm dark:border-border-medium-dark dark:bg-surface-code-dark;
    }

    & details {
        @apply my-4 rounded-lg border border-border-default p-4 dark:border-border-default-dark;

        & summary {
            @apply cursor-pointer select-none font-semibold;
        }

        &[open] summary {
            @apply mb-2;
        }
    }

    & sub,
    & sup {
        @apply text-xs;
    }

    & sub {
        @apply align-sub;
    }

    & sup {
        @apply align-super;
    }
}

.dark .mdx-content {
    --color-table-header-bg: #111827; /* gray.900 */
    --color-table-header-border: #374151; /* gray.700 */
    --color-table-border: #1f2937; /* gray.800 */
}
