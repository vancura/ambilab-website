@reference '../styles/global.css';

/* MDX Content Styling */
.mdx-content {
    /* Links with external indicator */
    & a:not(.anchor) {
        @apply text-link hover:text-link-hover dark:text-link-dark dark:hover:text-link-hover-dark relative font-medium underline underline-offset-4 transition-colors;

        /* External links get arrow indicator */
        &[href^='http']::after,
        &[href^='https']::after {
            @apply ml-1 inline-block text-xs content-['â†—'];
        }
    }

    /* Headings with anchor links */
    & h1,
    & h2,
    & h3,
    & h4 {
        @apply relative scroll-mt-20 font-bold;

        & .anchor {
            @apply text-anchor dark:text-anchor-dark absolute -left-6 no-underline opacity-0 transition-opacity;
        }

        &:hover .anchor {
            @apply opacity-100;
        }
    }

    & h1 {
        @apply mb-4 mt-8 text-4xl;
    }

    & h2 {
        @apply border-border-default dark:border-border-default-dark mb-4 mt-12 border-t pt-8 text-3xl;
    }

    & h3 {
        @apply mb-3 mt-8 text-2xl font-semibold;
    }

    & h4 {
        @apply mb-2 mt-6 text-xl font-semibold;
    }

    /* Paragraphs and lists */
    & p {
        @apply mb-4 leading-relaxed;
    }

    & ul,
    & ol {
        @apply mb-4 pl-6;
    }

    & ul li {
        @apply mb-2 list-disc;
    }

    & ol li {
        @apply mb-2 list-decimal;
    }

    /* Nested lists */
    & ul ul,
    & ol ul {
        @apply mb-2 mt-2;
    }

    & ul ol,
    & ol ol {
        @apply mb-2 mt-2;
    }

    /* Inline code (Expressive Code handles code blocks) */
    & p code,
    & li code,
    & td code {
        @apply bg-surface-code text-text-primary dark:bg-surface-code-dark dark:text-text-primary-dark rounded px-1.5 py-0.5 font-mono text-sm;
    }

    /* Code blocks are handled by Expressive Code */
    & pre {
        @apply my-6 overflow-x-auto rounded-lg;
    }

    /* Images */
    & img {
        @apply my-4 h-auto max-w-full rounded-lg;
    }

    & figure {
        @apply my-6;

        & figcaption {
            @apply text-text-muted dark:text-text-muted-dark mt-2 text-center text-sm;
        }
    }

    /* Blockquotes */
    & blockquote {
        @apply border-info-border text-text-secondary dark:text-text-secondary-dark my-4 border-l-4 pl-4 italic;

        & p {
            @apply mb-2;
        }
    }

    /* Tables */
    & table {
        @apply my-4 w-full border-collapse;

        & th {
            @apply border-table-header-border bg-table-header-bg dark:border-table-header-border-dark dark:bg-table-header-bg-dark border-b-2 p-2 text-left font-semibold;
        }

        & td {
            @apply border-table-border dark:border-table-border-dark border-b p-2;
        }

        & tr:last-child td {
            @apply border-b-0;
        }
    }

    /* Horizontal rule */
    & hr {
        @apply border-border-default dark:border-border-default-dark my-8 border-t;
    }

    /* Strong and emphasis */
    & strong {
        @apply text-text-primary dark:text-text-primary-dark font-bold;
    }

    & em {
        @apply italic;
    }

    /* Abbreviations */
    & abbr {
        @apply border-border-subtle dark:border-border-subtle-dark cursor-help border-b border-dotted;
    }

    /* Mark/highlight */
    & mark {
        @apply bg-warning-highlight dark:bg-warning-highlight-dark rounded px-1;
    }

    /* Keyboard input */
    & kbd {
        @apply border-border-medium bg-surface-code dark:border-border-medium-dark dark:bg-surface-code-dark rounded border px-2 py-1 font-mono text-sm shadow-sm;
    }

    /* Details/summary */
    & details {
        @apply border-border-default dark:border-border-default-dark my-4 rounded-lg border p-4;

        & summary {
            @apply cursor-pointer select-none font-semibold;
        }

        &[open] summary {
            @apply mb-2;
        }
    }

    /* Subscript and superscript */
    & sub,
    & sup {
        @apply text-xs;
    }

    & sub {
        @apply align-sub;
    }

    & sup {
        @apply align-super;
    }
}
