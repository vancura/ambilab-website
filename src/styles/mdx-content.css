@reference '../styles/global.css';

/* MDX Content Styling */
.mdx-content {
    /* Links with external indicator */
    & a:not(.anchor) {
        @apply relative font-medium text-link underline underline-offset-4 hover:text-link-hover dark:text-link-dark dark:hover:text-link-hover-dark;

        /* External links get arrow indicator */
        &[href^='http']::after,
        &[href^='https']::after {
            @apply ml-1 inline-block text-xs content-['â†—'];
        }
    }

    /* Headings with anchor links */
    & h1,
    & h2,
    & h3,
    & h4 {
        @apply relative scroll-mt-20 font-bold;

        & .anchor {
            @apply absolute -left-6 text-anchor no-underline opacity-0 dark:text-anchor-dark;
        }

        &:hover .anchor {
            @apply opacity-100;
        }
    }

    & h1 {
        @apply mb-4 mt-8 text-4xl;
    }

    & h2 {
        @apply mb-4 mt-12 border-t border-border-default pt-8 text-3xl dark:border-border-default-dark;
    }

    & h3 {
        @apply mb-3 mt-8 text-2xl font-semibold;
    }

    & h4 {
        @apply mb-2 mt-6 text-xl font-semibold;
    }

    /* Paragraphs and lists */
    & p {
        @apply mb-4 leading-relaxed;
    }

    & ul,
    & ol {
        @apply mb-4 pl-6;
    }

    & ul li {
        @apply mb-2 list-disc;
    }

    & ol li {
        @apply mb-2 list-decimal;
    }

    /* Nested lists */
    & ul ul,
    & ol ul {
        @apply mb-2 mt-2;
    }

    & ul ol,
    & ol ol {
        @apply mb-2 mt-2;
    }

    /* Inline code (Expressive Code handles code blocks) */
    & p code,
    & li code,
    & td code {
        @apply rounded bg-surface-code px-1.5 py-0.5 font-mono text-sm text-text-primary dark:bg-surface-code-dark dark:text-text-primary-dark;
    }

    /* Code blocks are handled by Expressive Code */
    & pre {
        @apply my-6 overflow-x-auto rounded-lg;
    }

    /* Images */
    & img {
        @apply my-4 h-auto max-w-full rounded-lg;
    }

    & figure {
        @apply my-6;

        & figcaption {
            @apply mt-2 text-center text-sm text-text-muted dark:text-text-muted-dark;
        }
    }

    /* Blockquotes */
    & blockquote {
        @apply my-4 border-l-4 border-info-border pl-4 italic text-text-secondary dark:text-text-secondary-dark;

        & p {
            @apply mb-2;
        }
    }

    /* Tables */
    & table {
        @apply my-4 w-full border-collapse;

        & th {
            @apply border-b-2 border-table-header-border bg-table-header-bg p-2 text-left font-semibold dark:border-table-header-border-dark dark:bg-table-header-bg-dark;
        }

        & td {
            @apply border-b border-table-border p-2 dark:border-table-border-dark;
        }

        & tr:last-child td {
            @apply border-b-0;
        }
    }

    /* Horizontal rule */
    & hr {
        @apply my-8 border-t border-border-default dark:border-border-default-dark;
    }

    /* Strong and emphasis */
    & strong {
        @apply font-bold text-text-primary dark:text-text-primary-dark;
    }

    & em {
        @apply italic;
    }

    /* Abbreviations */
    & abbr {
        @apply cursor-help border-b border-dotted border-border-subtle dark:border-border-subtle-dark;
    }

    /* Mark/highlight */
    & mark {
        @apply rounded bg-warning-highlight px-1 dark:bg-warning-highlight-dark;
    }

    /* Keyboard input */
    & kbd {
        @apply rounded border border-border-medium bg-surface-code px-2 py-1 font-mono text-sm shadow-sm dark:border-border-medium-dark dark:bg-surface-code-dark;
    }

    /* Details/summary */
    & details {
        @apply my-4 rounded-lg border border-border-default p-4 dark:border-border-default-dark;

        & summary {
            @apply cursor-pointer select-none font-semibold;
        }

        &[open] summary {
            @apply mb-2;
        }
    }

    /* Subscript and superscript */
    & sub,
    & sup {
        @apply text-xs;
    }

    & sub {
        @apply align-sub;
    }

    & sup {
        @apply align-super;
    }
}
